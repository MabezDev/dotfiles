#!/bin/bash

i3_path="i3/.config/i3/"
zsh_path="zsh/"

# merge i3 config with chosen
cat $i3_path/config.base > $i3_path/config

if [[ "$1" == "desktop" ]]; then
	echo "Deploying desktop configuration"
	cat $i3_path/config.desktop >> $i3_path/config
	cat $zsh_path/zshenv.desktop > $zsh_path/.zshenv
elif [[ "$1" == "laptop" ]]; then
	echo "Deploying laptop configuration"
	cat $i3_path/config.laptop >> $i3_path/config
	cat $zsh_path/zshenv.laptop > $zsh_path/.zshenv
else
	echo "Missing deploy type, either desktop or laptop"
	exit 1
fi


find . -maxdepth 1 -name "[!.]*" -type d -exec bash -c 'stow -R $(basename "$0")' {} \;